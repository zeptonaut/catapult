<!DOCTYPE html>
<!--
Copyright (c) 2015 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->
<link rel="import" href="/perf_insights/mappers/reduce.html">
<link rel="import" href="/perf_insights/mappers/slice_cost.html">
<link rel="import" href="/tracing/ui/base/dom_helpers.html">
<link rel="import" href="/tracing/ui/base/table.html">

<script>
'use strict';

(function() {
  if (!window.Catapult)
    window.Catapult = {};

  window.Catapult.pi_ui_r_pi_report_behavior = {
    properties: {
      mapFunctionHref: {
        type: String,
        reflectToAttribute: true
      },
      mapFunctionName: {
        type: String,
        reflectToAttribute: true
      },
      reduceFunctionHref: {
        type: String,
        reflectToAttribute: true
      },
      reduceFunctionName: {
        type: String,
        reflectToAttribute: true
      }
    },

    created: function() {
      // TODO(eakuefner): Testing on master shows that this check fails to
      // bail out.
      var thisPolymer = Polymer.getPolymerElementNamed(this.tagName);
      var requiredAttrs = new Set([
        'map-function-href',
        'map-function-name',
        'reduce-function-href',
        'reduce-function-name'
      ]);

      for (var attr in requiredAttrs) {
        if (!this[attr]) {
          throw new Error('Polymer elements with the pi_ui_report behavior ' +
              'must have ' + attr + ' attribute.');
        }
      }
    },

    get mapResults() {
      throw new Error('Not Implemented');
    },

    set mapResults(mapResults) {
      throw new Error('Not Implemented');
    }
  };
})();
</script>
